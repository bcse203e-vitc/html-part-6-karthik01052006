<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>1) Dynamic Registration Form with Validation</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 24px; }
    form { max-width: 420px; }
    .row { margin-bottom: 12px; display: grid; gap: 6px; }
    input { padding: 10px; border: 1px solid #ccc; border-radius: 8px; }
    small { display:block; min-height: 18px; }
    .error { color: red; }
    .ok { color: green; }
    button { padding: 10px 16px; border: none; border-radius: 10px; cursor: pointer; }
    button[disabled] { opacity: .5; cursor: not-allowed; }
  </style>
</head>
<body>
  <h2>1) Dynamic Registration Form with Validation</h2>
  <form id="regForm" novalidate>
    <div class="row">
      <label for="name">Name</label>
      <input id="name" name="name" type="text" required placeholder="Your full name"/>
      <small id="nameMsg"></small>
    </div>
    <div class="row">
      <label for="email">Email</label>
      <input id="email" name="email" type="email" required placeholder="you@example.com"/>
      <small id="emailMsg"></small>
    </div>
    <div class="row">
      <label for="password">Password</label>
      <input id="password" name="password" type="password" required placeholder="Min 8, 1 uppercase, 1 number"/>
      <small id="passMsg"></small>
    </div>
    <button id="submitBtn" type="submit" disabled>Submit</button>
  </form>

  <script>
    const nameEl = document.getElementById('name');
    const emailEl = document.getElementById('email');
    const passEl  = document.getElementById('password');
    const btn     = document.getElementById('submitBtn');

    const nameMsg = document.getElementById('nameMsg');
    const emailMsg= document.getElementById('emailMsg');
    const passMsg = document.getElementById('passMsg');

    const emailRegex = /^[^@\s]+@[^@\s]+\.[^@\s]+$/;
    const passRegex  = /^(?=.*[A-Z])(?=.*\d).{8,}$/;

    function validateName() {
      const v = nameEl.value.trim();
      if (!v) { nameMsg.textContent = 'Name is required.'; nameMsg.className='error'; return false; }
      nameMsg.textContent = 'Looks good.'; nameMsg.className='ok'; return true;
    }
    function validateEmail() {
      const v = emailEl.value.trim();
      if (!v) { emailMsg.textContent='Email is required.'; emailMsg.className='error'; return false; }
      if (!emailRegex.test(v)) { emailMsg.textContent='Invalid email format.'; emailMsg.className='error'; return false; }
      emailMsg.textContent='Valid email.'; emailMsg.className='ok'; return true;
    }
    function validatePass() {
      const v = passEl.value;
      if (!v) { passMsg.textContent='Password is required.'; passMsg.className='error'; return false; }
      if (!passRegex.test(v)) {
        passMsg.textContent='Must be â‰¥8 chars, include 1 uppercase and 1 number.'; passMsg.className='error'; return false;
      }
      passMsg.textContent='Strong password.'; passMsg.className='ok'; return true;
    }
    function updateButton() {
      btn.disabled = !(validateName() && validateEmail() && validatePass());
    }

    [nameEl, emailEl, passEl].forEach(el => {
      el.addEventListener('input', updateButton);
      el.addEventListener('blur', () => {
        if (el === nameEl) validateName();
        if (el === emailEl) validateEmail();
        if (el === passEl)  validatePass();
      });
    });

    document.getElementById('regForm').addEventListener('submit', (e) => {
      e.preventDefault();
      if (btn.disabled) return;
      alert('Registration successful!');
    });
  </script>
</body>
</html>
